(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{80:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t(10),r=t.n(c),i=t(11),o=t(15),s=t.n(o),d=t(25),p=t(19),u=t(13),l=t(16);t(40),t(81),t(42),t(45);l.a.initializeApp({apiKey:"AIzaSyAjQjrBMB73R5afENREDa0En7MnZpewQZ0",authDomain:"pieza-development.firebaseapp.com",databaseURL:"https://pieza-development.firebaseio.com",projectId:"pieza-development",storageBucket:"pieza-development.appspot.com",messagingSenderId:"10560275828",appId:"1:10560275828:web:e7979f61272aaca7cd9821"});var j,b,f,m,h,O=l.a.firestore(),x=(l.a.storage(),l.a.auth(),t(12)),v=t(86),g=t(47),y=(g("CM2VEDLMUC","3af051163f276889c2e6063be6cd3c3a").initIndex("companyIndex"),g("CM2VEDLMUC","6c3acb372c854143043df531d2cce27e").initIndex("companyIndexDev")),w=t(29),I=t(4),C=Object(x.a)(v.a)(j||(j=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :active,\n  :focus {\n    outline: none;\n  }\n"]))),D=x.a.main(b||(b=Object(i.a)(["\n  background: white;\n  height: 70vh;\n  width: 90vh;\n  padding: 0;\n"]))),E=x.a.header(f||(f=Object(i.a)(["\n  padding: 1rem;\n  display: flex;\n  justify-content: space-between;\n  background: #0073e5;\n  p,\n  span {\n    margin: 0;\n    color: white;\n  }\n  span {\n    cursor: pointer;\n  }\n"]))),k=x.a.form(m||(m=Object(i.a)(["\n  height: 70%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 1rem;\n  h1 {\n    margin: 0;\n    text-align: center;\n  }\n  textarea {\n    width: 80%;\n    height: 4rem;\n    resize: none;\n  }\n  button {\n    height: 2rem;\n    width: 6rem;\n    background: #0073e5;\n    color: white;\n    border: none;\n    cursor: pointer;\n  }\n"]))),M=function(e){var n=e.open,t=e.onClose,c=e.companyEdit,r=e.updateCompany,i=Object(a.useState)(!1),o=Object(u.a)(i,2),d=o[0],l=o[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),f=b[0],m=b[1],h=function(){m(""),t()},x=function(){var e=Object(p.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),l(!0),e.next=4,O.collection("companies").doc(c.docID).update({description:f,PhrasesMain:{TitleWe:{description:f}}});case 4:return e.next=6,y.partialUpdateObject({description:f,PhrasesMain:{TitleWe:{description:f}},objectID:c.docID}).then((function(){return console.log("Se actualizo",c.docID)}));case 6:r(c.docID),l(!1),h();case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(C,{open:n,onClose:h,children:Object(I.jsxs)(D,{children:[Object(I.jsxs)(E,{children:[Object(I.jsx)("p",{children:"Editar informacion"}),Object(I.jsx)("span",{onClick:h,children:"X"})]}),Object(I.jsxs)(k,{onSubmit:x,children:[Object(I.jsx)("h1",{children:c.companyName}),Object(I.jsx)("textarea",{onChange:function(e){var n=e.target.value;m(n)},value:f,type:"text",required:!0,placeholder:"Ingresa descripcion"}),Object(I.jsx)("button",{type:"submit",disabled:d,children:d?Object(I.jsx)(w.ClipLoader,{size:20,color:"#fff"}):"Guardar"})]})]})})})};var S=x.a.div(h||(h=Object(i.a)(["\n  border-bottom: 1px solid;\n  margin-top: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  span {\n    cursor: pointer;\n  }\n  span:hover {\n    color: blue;\n  }\n"]))),z=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],j=Object(a.useState)({}),b=Object(u.a)(j,2),f=b[0],m=b[1],h=function(e){var n=e.reduce((function(e,n){var t,a;1===n.templateCompany&&(n.description||(null===n||void 0===n||null===(t=n.PhrasesMain)||void 0===t||null===(a=t.TitleWe)||void 0===a?void 0:a.description)||e.push(n));return e}),[]);c(n)},x=function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("companies").where("active","==",!0).get();case 2:return n=e.sent.docs.map((function(e){return Object(d.a)(Object(d.a)({},e.data()),{},{docID:e.id})})),e.next=5,h(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){l(!o),m(o?{}:e)};return Object(a.useEffect)((function(){x()}),[]),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(M,{open:o,onClose:v,companyEdit:f,updateCompany:function(e){var n=t.slice().filter((function(n){return n.docID!==e}));c(n)}}),t.map((function(e){return Object(I.jsxs)(S,{onClick:function(){return v(e)},children:[e.companyName,Object(I.jsx)("span",{children:"Editar"})]})}))]})},A=document.getElementById("root");r.a.render(Object(I.jsx)(a.StrictMode,{children:Object(I.jsx)(z,{})}),A)}},[[80,1,2]]]);
//# sourceMappingURL=main.b8907632.chunk.js.map