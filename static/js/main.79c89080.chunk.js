(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{80:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t(10),r=t.n(c),i=t(11),o=t(15),s=t.n(o),d=t(25),p=t(19),u=t(13),l=t(16),b=(t(40),t(81),t(42),t(45),{apiKey:"AIzaSyAJk36pMtxI9JlyZCmrBZU1NaCDIGEfsmo",authDomain:"lapieza-production.firebaseapp.com",databaseURL:"https://lapieza-production.firebaseio.com",projectId:"lapieza-production",storageBucket:"lapieza-production.appspot.com",messagingSenderId:"781662415856",appId:"1:781662415856:web:51f8695fe9ca0a0f",measurementId:"G-RZZ0JNDCXS"});l.a.initializeApp(b);var j,f,h,m,x,O=l.a.firestore(),g=(l.a.storage(),l.a.auth(),t(12)),v=t(86),y=t(47),I=y("CM2VEDLMUC","3af051163f276889c2e6063be6cd3c3a").initIndex("companyIndex"),C=y("CM2VEDLMUC","6c3acb372c854143043df531d2cce27e").initIndex("companyIndexDev"),D=t(29),w=t(4),k=Object(g.a)(v.a)(j||(j=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  :active,\n  :focus {\n    outline: none;\n  }\n"]))),S=g.a.main(f||(f=Object(i.a)(["\n  background: white;\n  height: 70vh;\n  width: 90vh;\n  padding: 0;\n"]))),z=g.a.header(h||(h=Object(i.a)(["\n  padding: 1rem;\n  display: flex;\n  justify-content: space-between;\n  background: #0073e5;\n  p,\n  span {\n    margin: 0;\n    color: white;\n  }\n  span {\n    cursor: pointer;\n  }\n"]))),M=g.a.form(m||(m=Object(i.a)(["\n  height: 70%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  padding: 1rem;\n  h1 {\n    margin: 0;\n    text-align: center;\n  }\n  textarea {\n    width: 80%;\n    height: 4rem;\n    resize: none;\n  }\n  button {\n    height: 2rem;\n    width: 6rem;\n    background: #0073e5;\n    color: white;\n    border: none;\n    cursor: pointer;\n  }\n"]))),E=function(e){var n=e.open,t=e.onClose,c=e.companyEdit,r=e.updateCompany,i=Object(a.useState)(!1),o=Object(u.a)(i,2),d=o[0],l=o[1],b=Object(a.useState)(""),j=Object(u.a)(b,2),f=j[0],h=j[1],m=function(){h(""),t()},x=function(){var e=Object(p.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),l(!0),e.next=4,O.collection("companies").doc(c.docID).update({description:f,PhrasesMain:{TitleWe:{description:f}}});case 4:return e.next=7,I.partialUpdateObject({description:f,PhrasesMain:{TitleWe:{description:f}},objectID:c.docID}).then((function(){return console.log("Se actualizo",c.docID)}));case 7:e.next=11;break;case 9:return e.next=11,C.partialUpdateObject({description:f,PhrasesMain:{TitleWe:{description:f}},objectID:c.docID}).then((function(){return console.log("Se actualizo",c.docID)}));case 11:r(c.docID),l(!1),m();case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(k,{open:n,onClose:m,children:Object(w.jsxs)(S,{children:[Object(w.jsxs)(z,{children:[Object(w.jsx)("p",{children:"Editar informacion"}),Object(w.jsx)("span",{onClick:m,children:"X"})]}),Object(w.jsxs)(M,{onSubmit:x,children:[Object(w.jsx)("h1",{children:c.companyName}),Object(w.jsx)("textarea",{onChange:function(e){var n=e.target.value;h(n)},value:f,type:"text",required:!0,placeholder:"Ingresa descripcion"}),Object(w.jsx)("button",{type:"submit",disabled:d,children:d?Object(w.jsx)(D.ClipLoader,{size:20,color:"#fff"}):"Guardar"})]})]})})})};var U=g.a.div(x||(x=Object(i.a)(["\n  border-bottom: 1px solid;\n  margin-top: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  span {\n    cursor: pointer;\n  }\n  span:hover {\n    color: blue;\n  }\n"]))),J=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],b=Object(a.useState)({}),j=Object(u.a)(b,2),f=j[0],h=j[1],m=function(e){var n=e.reduce((function(e,n){var t,a;1===n.templateCompany&&(n.description||(null===n||void 0===n||null===(t=n.PhrasesMain)||void 0===t||null===(a=t.TitleWe)||void 0===a?void 0:a.description)||e.push(n));return e}),[]);c(n)},x=function(){var e=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("companies").where("active","==",!0).get();case 2:return n=e.sent.docs.map((function(e){return Object(d.a)(Object(d.a)({},e.data()),{},{docID:e.id})})),e.next=5,m(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){l(!o),h(o?{}:e)};return Object(a.useEffect)((function(){x()}),[]),Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(E,{open:o,onClose:g,companyEdit:f,updateCompany:function(e){var n=t.slice().filter((function(n){return n.docID!==e}));c(n)}}),t.map((function(e){return Object(w.jsxs)(U,{onClick:function(){return g(e)},children:[e.companyName,Object(w.jsx)("span",{children:"Editar"})]})}))]})},N=document.getElementById("root");r.a.render(Object(w.jsx)(a.StrictMode,{children:Object(w.jsx)(J,{})}),N)}},[[80,1,2]]]);
//# sourceMappingURL=main.79c89080.chunk.js.map